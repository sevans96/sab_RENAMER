## SUMMARY;
SABNZBD script to rename obfuscated video files (regardless of extension), then if the file is an MKV it will convert the multichannel audio to AC3 and remove all other tracks including subtitles. Any issues take it up with Donald Plump.

## ACKNOWLEDGEMENTS;
## THIS SABNZBD POST PROCESSING SCRIPT IS LARGELY BASED ON THE MKVDTS2AC3.sh SCRIPT WITTEN BY JAKE WHARTON AND CHRIS HOEKSTRA, WHICH CAN BE FOUND HERE: https://github.com/JakeWharton/mkvdts2ac3 ALONG WITH ALL THE HELP INFO THAT I FOUND SO VALUABLE, AND IF YOU'RE READING THIS THEN SO WILL YOU. THANK YOU GUYS FOR ALL THAT WORK WAY BACK ALL THOSE YEARS. 

## WHAT THIS SAB POST PROC SCRIPT DOES (OR IS SUPPOSED TO DO);
## THE SCRIPT PRIMARILY DOES TWO THINGS -  RENAME THE FINAL FILENAME TO THAT OF ITS PARENT FOLDER SO AS TO FIX THE OBFUSCATED FILENAME ISSUE, AND OF COURSE CONVERT AUDIO TO AC3. I'VE ADDED SUPPORT TO CONVERT ALL MULTICHANNEL AUDIO TO AC3 BTW, NOT JUST DTS. IT WILL CONVERT DTS, DTS-HD, DTS-ES, EAC-3, TrueHD, AND TrueHD Atmos - ALL TO AC3. IT CONVERTS THE FIRST MULTI-CHANNEL FILE IT FINDS AND DISCARDS THE REST ALONG WITH ANY SUBTITLE FILES WITHIN THE MKV. I HAD MY OWN REASONS FOR DOING THIS... THERE ARE SOME CHECKS ALONG THE WAY WHICH CAN BE IDENTIFIED WHEREVER YOU SEE A MESSAGE ECHOING TO THE POST PROC LOG FILE. IN SUMMARY IT FIRSTLY RENAMES, THEN CHECKS IF THE FILE IS AN MKV. IF NO IT EXITS CLEANLY THEN AND THERE. IF YES IT THEN CHECKS IF THE FILE HAS AC3 AND OR SUBS. IT REMOVES THE SUBS IF YES, THEN EXITS CLEANLY IF AC3 EXISTS. IF NO AC3 IS FOUND, THEN IT SEARCHES FORA SURROUND SOUND TRACK AND CONVERTS THE FIRST ONE. IT THEN RUNS THROUGH A BUNCH OF STUFF THAT WAS IN THE ORIGINAL SCRIPT AND ENSURES PREDICTABLE RESULTS EACH TIME. ANYHOW, WHAT YOU SHOULD END UP WITH IS AN MKV FILE WITH THE VIDEO TRACK UNTOUCHED FROM WHAT WAS DOWNLOADED,  A SINGLE AC3 AUDIO TRACK, PLUS ANY CHAPTER FILES ETC AS I CBF TAKING ANOTHER SIX MONTHS FIGURING THAT OUT. PLEASE FORGIVE ME IN ADVANCE FOR THE LIMITED PORTABILITY OF THIS SCRIPT, BUT IT'S THE FIRST SCRIPT I'VE EVER WRITTEN. I KNOW THERE ARE QUITE A FEW THINGS IN IT THAT ARE SPECIFIC TO MY OWN NEEDS, BUT I DID TRY! I PULLED ALL THE VARIABLES FROM THE rc_USER FILE INTO THE SCRIPT SO IT COULD STAND ALONE WITHIN SAB, AND THESE ARE IMMEDIATELY BELOW THIS FEEBLE ATTEMPT AR A README FILE... 
## FINALLY, AGAIN, THANKS TO JAKE W AND CHRIS H. CANT BELIEVE THEY WROTE THIS IN 2011. I SHUDDER TO THINK HOW SMART THEY MUST BE NOW, 7 FULL YEARS LATER... PROBABLY WRITING CODE FOR TIME TRAVEL OR SIMILAR.
## THANKS AND REGARDS, Steve Evans, Sydney AUSTRALIA,  July 2018
